(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{2005:function(e,t,a){Promise.resolve().then(a.bind(a,4182))},4182:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return b}});var n=a(7437),r=a(2265),l=a(6070),s=a(5186),i=a(6815),o=a(9090),c=a(2369);let u=(0,a(9205).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);var d=a(9376),f=a(4438),m=a(342),p=a(3145),x=a(9116);let h=(0,a(3011).U)(e=>({profile:null,setProfile:t=>{let a=t.fullname||t.full_name||"",n=t.role||"user";localStorage.setItem("fullname",a),localStorage.setItem("phone",t.phone),localStorage.setItem("role",n),localStorage.setItem("id",t.id),e({profile:{id:t.id,fullname:a,phone:t.phone,role:n}})},clearProfile:()=>{localStorage.removeItem("fullname"),localStorage.removeItem("phone"),localStorage.removeItem("role"),localStorage.removeItem("id"),e({profile:null})}}));var g=a(3949),y=a(8239);function b(){let{t:e}=(0,g.$G)(),[t,a]=(0,r.useState)(""),[b,v]=(0,r.useState)(""),{token:w}=(0,m.t)(),N=(0,d.useRouter)(),[j,k]=(0,r.useState)(!1),[I,S]=(0,r.useState)(!1);(0,r.useEffect)(()=>{k(!0)},[]);let E=(0,m.t)(),D=h();if(!j)return null;let _=async a=>{if(a.preventDefault(),S(!0),!t||!b){f.A.error(e("common.allFieldsRequired")),S(!1);return}try{let a=await (0,x.x4)(t,b);E.setToken(a.data.token),D.setProfile(a.data.user),S(!1),f.A.success(e("common.loginSuccess")),N.push("/")}catch(t){f.A.error(e("common.loginError")),S(!1)}};return(0,n.jsx)("div",{className:"min-h-screen relative overflow-hidden bg-[#21466D]",children:(0,n.jsx)("div",{className:"container mx-auto px-4 py-8 flex justify-center items-center min-h-screen",children:(0,n.jsxs)("div",{className:"w-full flex items-center justify-center gap-8",children:[(0,n.jsx)(y.E.div,{className:"w-1/2 max-md:w-full lg:w-1/2",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.6},children:(0,n.jsxs)("div",{className:"bg-white w-[600px] max-md:w-full rounded-xl shadow-2xl border border-gray-100",children:[(0,n.jsxs)(l.Ol,{className:"text-center pb-6 pt-8 px-8",children:[(0,n.jsxs)(y.E.div,{className:"flex items-center justify-center gap-2 text-2xl text-[#21466D] mb-2",initial:{scale:.8},animate:{scale:1},transition:{delay:.2,duration:.4},children:[(0,n.jsx)(o.Z,{className:"h-6 w-6 text-[#ffc82a]"}),e("common.loginTitle")]}),(0,n.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:e("common.loginDesc")})]}),(0,n.jsxs)(l.aY,{className:"px-8 pb-8 space-y-6",children:[(0,n.jsxs)("form",{onSubmit:_,className:"space-y-5",children:[(0,n.jsxs)(y.E.div,{className:"space-y-2",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3,duration:.4},children:[(0,n.jsx)(i._,{htmlFor:"passport",className:"block text-sm font-medium text-[#21466D]",children:e("common.passportId")}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(c.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#ffc82a] h-5 w-5"}),(0,n.jsx)(s.I,{id:"passport",value:t,onChange:e=>a(e.target.value),placeholder:"AB1234569",className:"w-full h-12 pl-10 pr-4 border-2 border-[#ffc82a] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#ffc82a]/30 focus:border-[#ffc82a] bg-white text-[#21466D] placeholder-gray-400 transition-all duration-200"})]})]}),(0,n.jsxs)(y.E.div,{className:"space-y-2",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4,duration:.4},children:[(0,n.jsx)(i._,{htmlFor:"password",className:"block text-sm font-medium text-[#21466D]",children:e("common.password")}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(u,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#ffc82a] h-5 w-5"}),(0,n.jsx)(s.I,{id:"password",type:"password",value:b,onChange:e=>v(e.target.value),placeholder:e("common.enterPassword"),className:"w-full h-12 pl-10 pr-4 border-2 border-[#ffc82a] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#ffc82a]/30 focus:border-[#ffc82a] bg-white text-[#21466D] placeholder-gray-400 transition-all duration-200"})]})]}),(0,n.jsxs)(y.E.button,{type:"submit",disabled:I,className:"w-full h-12 bg-[#ffc82a] hover:bg-[#ffb600] disabled:bg-gray-300 text-[#21466D] font-bold rounded-lg shadow-lg hover:shadow-xl transition-all duration-200 flex items-center justify-center gap-2",whileHover:{scale:1.02},whileTap:{scale:.98},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.4},children:[I?(0,n.jsx)("div",{className:"w-5 h-5 border-2 border-[#21466D] border-t-transparent rounded-full animate-spin"}):(0,n.jsx)(o.Z,{className:"h-4 w-4"}),I?e("common.loading"):e("common.login")]})]}),(0,n.jsxs)(y.E.div,{className:"relative",initial:{opacity:0},animate:{opacity:1},transition:{delay:.6,duration:.4},children:[(0,n.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,n.jsx)("div",{className:"w-full border-t-2 border-[#ffc82a]"})}),(0,n.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,n.jsx)("span",{className:"px-4 bg-white text-gray-500",children:e("common.noAccount")})})]}),(0,n.jsxs)(y.E.div,{className:"text-center w-full",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7,duration:.4},children:[(0,n.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:e("common.registrationViaBot")}),(0,n.jsx)(y.E.h1,{className:"text-center underline text-[#21466D] hover:text-[#ffc82a] transition-all duration-200 font-bold",onClick:()=>window.open("https://t.me/usat_kutubxona_bot","_blank"),children:e("common.registerViaTelegram")})]})]})]})}),(0,n.jsx)(y.E.div,{className:"hidden xl:flex flex-col items-center justify-center",initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{delay:.3,duration:.6},children:(0,n.jsx)("div",{className:"relative",children:(0,n.jsx)(y.E.div,{className:"relative w-[550px] h-[550px]",animate:{y:[0,-10,0]},transition:{duration:3,repeat:Number.POSITIVE_INFINITY,ease:"easeInOut"},children:(0,n.jsx)(p.default,{src:"/logo 6.png",alt:"USAT Logo",width:550,height:550,className:"w-full h-full object-contain"})})})})]})})})}},6070:function(e,t,a){"use strict";a.d(t,{Ol:function(){return i},Zb:function(){return s},aY:function(){return c},eW:function(){return u},ll:function(){return o}});var n=a(7437),r=a(2265),l=a(4508);let s=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});s.displayName="Card";let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",a),...r})});i.displayName="CardHeader";let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("div",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",a),...r})});o.displayName="CardTitle",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("div",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",a),...r})}).displayName="CardDescription";let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",a),...r})});c.displayName="CardContent";let u=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",a),...r})});u.displayName="CardFooter"},5186:function(e,t,a){"use strict";a.d(t,{I:function(){return s}});var n=a(7437),r=a(2265),l=a(4508);let s=r.forwardRef((e,t)=>{let{className:a,type:r,...s}=e;return(0,n.jsx)("input",{type:r,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...s})});s.displayName="Input"},6815:function(e,t,a){"use strict";a.d(t,{_:function(){return c}});var n=a(7437),r=a(2265),l=a(6394),s=a(535),i=a(4508);let o=(0,s.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)(l.f,{ref:t,className:(0,i.cn)(o(),a),...r})});c.displayName=l.f.displayName},9116:function(e,t,a){"use strict";a.d(t,{CP:function(){return l},bI:function(){return i},dR:function(){return d},nF:function(){return c},so:function(){return s},uI:function(){return u},x4:function(){return r},yZ:function(){return o}});let n=a(3464).Z.create({baseURL:"".concat("https://kutubxonaapi.usat.uz/api","/website"),headers:{"Content-Type":"application/json"}}),r=async(e,t)=>(await n.post("/login",{passport_id:e,password:t})).data,l=async()=>await n.get("/categories"),s=async()=>await n.get("/kafedras"),i=async()=>(await n.get("/book-items")).data,o=async()=>(await n.get("/book-items")).data,c=async()=>(await n.get("/books")).data,u=async()=>{let e=await n.get("/alluser-order");return console.log("orders",e),e.data},d=async e=>{let t=localStorage.getItem("id");return(await n.post("/user-order",{user_id:t,book_id:e})).data}},342:function(e,t,a){"use strict";a.d(t,{t:function(){return n}});let n=(0,a(3011).U)(e=>({token:localStorage.getItem("token"),setToken:t=>{localStorage.setItem("token",t),e({token:t})},clearToken:()=>{localStorage.removeItem("token"),e({token:null})}}))},4508:function(e,t,a){"use strict";a.d(t,{cn:function(){return l},hA:function(){return s},xc:function(){return i}});var n=a(1994),r=a(3335);function l(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.m6)((0,n.W)(t))}let s=e=>{let t="https://kutubxonaapi.usat.uz/api".replace("/api","")||"";return e?"".concat(t).concat(e):"/placeholder.svg"},i=e=>{let t=new Date(e),a=new Date;return a.setMonth(a.getMonth()-6),t>a}},9090:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});let n=(0,a(9205).Z)("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]])},2369:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});let n=(0,a(9205).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},6394:function(e,t,a){"use strict";a.d(t,{f:function(){return i}});var n=a(2265),r=a(6840),l=a(7437),s=n.forwardRef((e,t)=>(0,l.jsx)(r.WV.label,{...e,ref:t,onMouseDown:t=>{var a;t.target.closest("button, input, select, textarea")||(null===(a=e.onMouseDown)||void 0===a||a.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));s.displayName="Label";var i=s},6840:function(e,t,a){"use strict";a.d(t,{WV:function(){return i},jH:function(){return o}});var n=a(2265),r=a(4887),l=a(7053),s=a(7437),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let a=n.forwardRef((e,a)=>{let{asChild:n,...r}=e,i=n?l.g7:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,s.jsx)(i,{...r,ref:a})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function o(e,t){e&&r.flushSync(()=>e.dispatchEvent(t))}},3011:function(e,t,a){"use strict";a.d(t,{U:function(){return o}});var n=a(2265);let r=e=>{let t;let a=new Set,n=(e,n)=>{let r="function"==typeof e?e(t):e;if(!Object.is(r,t)){let e=t;t=(null!=n?n:"object"!=typeof r||null===r)?r:Object.assign({},t,r),a.forEach(a=>a(t,e))}},r=()=>t,l={setState:n,getState:r,getInitialState:()=>s,subscribe:e=>(a.add(e),()=>a.delete(e))},s=t=e(n,r,l);return l},l=e=>e?r(e):r,s=e=>e,i=e=>{let t=l(e),a=e=>(function(e,t=s){let a=n.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return n.useDebugValue(a),a})(t,e);return Object.assign(a,t),a},o=e=>e?i(e):i}},function(e){e.O(0,[487,145,239,971,117,744],function(){return e(e.s=2005)}),_N_E=e.O()}]);