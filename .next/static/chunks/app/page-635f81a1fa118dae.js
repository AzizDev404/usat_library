(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7675:function(e,t,a){Promise.resolve().then(a.bind(a,6736))},6736:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return V}});var s=a(7437),r=a(29),n=a.n(r),o=a(2265),i=a(6070),l=a(5974),c=a(2869),d=a(6275),m=a(2660),u=a(6858),x=a(3145),f=a(9376),h=a(4438),p=a(9116),g=a(4508),b=a(9764),w=a(476),y=a(3245),v=a(4546),j=a(3949),N=a(8239);a(7354),a(6968),a(6889);var k=a(1595);let B=()=>(0,s.jsxs)(i.Zb,{className:"group hover:shadow-xl transition-all duration-300 border border-[#21466D]/10 rounded-xl h-full flex flex-col justify-between animate-pulse",children:[(0,s.jsxs)(i.aY,{className:"p-4 flex-grow flex flex-col max-sm:p-3 max-xs:p-2",children:[(0,s.jsx)("div",{className:"relative mb-4 overflow-hidden rounded-lg",children:(0,s.jsx)("div",{className:"w-full h-[350px] bg-gray-200 max-lg:h-[300px] max-md:h-[280px] max-sm:h-[250px] max-xs:h-[220px] rounded-lg"})}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"}),(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-4 w-3/4"}),(0,s.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,s.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/2"}),(0,s.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/3"}),(0,s.jsx)("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]})]})]}),(0,s.jsx)(i.eW,{className:"p-4 pt-0 max-sm:p-3 max-xs:p-2",children:(0,s.jsx)("div",{className:"w-full h-10 bg-gray-200 rounded"})})]}),D=()=>(0,s.jsx)("div",{className:"container mx-auto px-4 py-6 text-start max-w-[1800px]",children:(0,s.jsx)("div",{className:"h-12 bg-gray-200 rounded w-64 animate-pulse max-sm:h-10 max-sm:w-48"})});function S(e){let{initialBooks:t}=e,{t:a,i18n:r}=(0,j.$G)(),d=(0,f.useRouter)(),m=(0,v.a)("(max-width: 768px)"),u=(0,v.a)("(min-width: 769px) and (max-width: 1023px)"),[S,E]=(0,o.useState)(t||[]),[C,A]=(0,o.useState)(!t);(0,o.useEffect)(()=>{(async()=>{if(t&&t.length>0){E(t),A(!1);return}try{A(!0);let e=await (0,p.yZ)(),t=Array.isArray(e.data)?e.data:[e.data];E(t)}catch(e){console.error("Ma'lumotlarni olishda xatolik:",e),E([])}finally{A(!1)}})()},[t,a]);let I=S.filter(e=>{let t=new Date(e.Book.createdAt),a=new Date;return a.setMonth(a.getMonth()-5),t>a}),z=I.length>0?[...I,...I,...I]:[],M=e=>{d.push("/book/".concat(e))},R=e=>{localStorage.getItem("token")?e():(h.A.warning(a("common.loginRequired")),d.push("/login"))};return(0,s.jsxs)("div",{className:"jsx-e71b61215a73f533 w-full mx-auto px-4 py-2 max-w-[1920px]",children:[(0,s.jsxs)(N.E.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},className:"w-full mx-auto max-w-[1800px]",children:[C?(0,s.jsx)(D,{}):(0,s.jsx)("div",{className:"jsx-e71b61215a73f533 container mx-auto px-4 py-6 text-start max-w-[1800px]",children:(0,s.jsx)("h1",{className:"jsx-e71b61215a73f533 text-[38px] font-[700] text-[#21466D] max-lg:text-[32px] max-md:text-[28px] max-sm:text-[24px] max-xs:text-[20px]",children:a("common.newBooks")})}),(0,s.jsx)("div",{className:"jsx-e71b61215a73f533 relative px-4",children:(0,s.jsx)(b.tq,{slidesPerView:1,spaceBetween:20,autoplay:{delay:4e3,disableOnInteraction:!1,pauseOnMouseEnter:!0},pagination:{clickable:!0,dynamicBullets:!0},modules:[w.pt,w.tl],loop:z.length>0,className:"book-swiper",breakpoints:{320:{slidesPerView:1,spaceBetween:15},480:{slidesPerView:1,spaceBetween:15},640:{slidesPerView:1,spaceBetween:20},768:{slidesPerView:1.5,spaceBetween:20},1024:{slidesPerView:2.5,spaceBetween:24},1280:{slidesPerView:3.5,spaceBetween:24},1536:{slidesPerView:3.5,spaceBetween:28}},children:C?Array.from({length:m?1:u?2:4}).map((e,t)=>(0,s.jsx)(b.o5,{children:(0,s.jsx)(B,{})},"skeleton-".concat(t))):z.map((e,t)=>{var r,n;return(0,s.jsx)(b.o5,{children:(0,s.jsx)(N.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,ease:"easeInOut"},className:"h-full",children:(0,s.jsxs)(i.Zb,{onClick:()=>R(()=>M(e.Book.id)),className:"group hover:shadow-2xl transition-all duration-300 border border-[#21466D]/10 rounded-xl cursor-pointer hover:border-[#21466D]/30 h-full flex flex-col justify-between hover:scale-[1.02] transform",children:[(0,s.jsxs)(i.aY,{className:"p-4 flex-grow flex flex-col max-sm:p-3 max-xs:p-2",children:[(0,s.jsxs)("div",{className:"jsx-e71b61215a73f533 relative mb-4 overflow-hidden rounded-lg transition-shadow duration-300",children:[(0,s.jsx)(x.default,{src:(0,g.hA)(null===(r=e.Book.image)||void 0===r?void 0:r.url)||"/placeholder.svg?height=350&width=250&query=book cover",alt:e.Book.name,width:250,height:350,className:"w-full h-[350px] object-cover max-lg:h-[300px] max-md:h-[280px] max-sm:h-[250px] max-xs:h-[220px] transition-transform duration-300 group-hover:scale-105",loading:"lazy"}),(0,s.jsx)(l.C,{className:"absolute top-2 right-2 bg-[#ffc82a] text-[#21466D] text-xs font-semibold shadow-md",children:a("common.new")})]}),(0,s.jsxs)("h3",{title:e.Book.name,className:"jsx-e71b61215a73f533 font-semibold text-lg mb-2 group-hover:text-[#21466D] transition-colors line-clamp-2 min-h-[3.5rem] max-sm:text-base max-xs:text-sm",children:[e.Book.name.split(/[:\s]+/).slice(0,3).join(" "),e.Book.name.split(/[:\s]+/).length>3?"...":""]}),(0,s.jsxs)("div",{className:"jsx-e71b61215a73f533 space-y-1 text-sm text-muted-foreground mb-4 max-xs:text-xs",children:[(0,s.jsxs)("p",{className:"jsx-e71b61215a73f533",children:[e.Book.page," ",a("common.page")]}),(0,s.jsxs)("p",{className:"jsx-e71b61215a73f533",children:[e.Book.year,"-",a("common.year")]}),(0,s.jsxs)("p",{className:"jsx-e71b61215a73f533 text-xs text-[#21466D] font-medium",children:[a("common.author"),": ",(null===(n=e.Book.Auther)||void 0===n?void 0:n.name)||a("common.unknown")]})]})]}),(0,s.jsx)(i.eW,{className:"p-4 pt-0 flex flex-col gap-2 max-sm:gap-1 max-sm:p-3 max-xs:p-2",children:(0,s.jsx)(k.Z,{className:"w-full",children:(0,s.jsxs)(c.z,{className:"w-full !bg-[#21466D] text-white hover:!bg-white border-2 font-bold border-transparent hover:!border-[#21466D] hover:!text-[#21466D] flex items-center justify-center gap-2 bg-transparent transition-all duration-300 max-sm:text-sm max-xs:text-xs max-xs:py-2",onClick:t=>{t.stopPropagation(),R(()=>M(e.Book.id))},children:[(0,s.jsx)(y.Z,{className:"h-4 w-4 mr-2 max-xs:h-3 max-xs:w-3 max-xs:mr-1"}),a("common.details")]})})})]})})},"".concat(e.Book.id,"-").concat(t))})})})]}),(0,s.jsx)(n(),{id:"e71b61215a73f533",children:".book-swiper{padding:20px 0 40px 0!important;overflow-x:hidden}.book-swiper .swiper-pagination{bottom:10px!important}.book-swiper .swiper-pagination-bullet{background:#21466D;opacity:.3;width:8px;height:8px}.book-swiper .swiper-pagination-bullet-active{opacity:1;-webkit-transform:scale(1.2);-moz-transform:scale(1.2);-ms-transform:scale(1.2);-o-transform:scale(1.2);transform:scale(1.2)}.book-swiper .swiper-slide{height:auto;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex}.book-swiper .swiper-slide>div{width:100%;height:100%}Az1z_404, [8/6/25 4:08 PM]\n\n\n        \n        @media (max-width: 640px) {}.book-swiper{padding:15px 0 35px 0!important}.book-swiper .swiper-pagination-bullet{width:6px;height:6px;margin:0 3px}@media(max-width:480px){.book-swiper{padding:10px 0 30px 0!important}}"})]})}var E=a(7436),C=a(6498),A=e=>{let{text:t,as:a="div",typingSpeed:r=50,initialDelay:n=0,pauseDuration:i=2e3,deletingSpeed:l=30,loop:c=!0,className:d="",showCursor:m=!0,hideCursorWhileTyping:u=!1,cursorCharacter:x="|",cursorClassName:f="",cursorBlinkDuration:h=.5,textColors:p=[],variableSpeed:g,onSentenceComplete:b,startOnVisible:w=!1,reverseMode:y=!1,...v}=e,[j,N]=(0,o.useState)(""),[k,B]=(0,o.useState)(0),[D,S]=(0,o.useState)(!1),[E,A]=(0,o.useState)(0),[I,z]=(0,o.useState)(!w),M=(0,o.useRef)(null),R=(0,o.useRef)(null),Z=Array.isArray(t)?t:[t],_=()=>{if(!g)return r;let{min:e,max:t}=g;return Math.random()*(t-e)+e};(0,o.useEffect)(()=>{if(!w||!R.current)return;let e=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&z(!0)})},{threshold:.1});return e.observe(R.current),()=>e.disconnect()},[w]),(0,o.useEffect)(()=>{m&&M.current&&(C.p8.set(M.current,{opacity:1}),C.p8.to(M.current,{opacity:0,duration:h,repeat:-1,yoyo:!0,ease:"power2.inOut"}))},[m,h]),(0,o.useEffect)(()=>{let e;if(!I)return;let t=Z[E],a=y?t.split("").reverse().join(""):t,s=()=>{D?""===j?(S(!1),E===Z.length-1&&!c||(b&&b(Z[E],E),A(e=>(e+1)%Z.length),B(0),e=setTimeout(()=>{},i))):e=setTimeout(()=>{N(e=>e.slice(0,-1))},l):k<a.length?e=setTimeout(()=>{N(e=>e+a[k]),B(e=>e+1)},g?_():r):Z.length>1&&(e=setTimeout(()=>{S(!0)},i))};return 0!==k||D||""!==j?s():e=setTimeout(s,n),()=>clearTimeout(e)},[k,j,D,r,l,i,Z,E,c,n,I,y,g,b]);let T=u&&(k<Z[E].length||D);return(0,o.createElement)(a,{ref:R,className:"inline-block whitespace-pre-wrap tracking-tight ".concat(d),...v},(0,s.jsx)("span",{className:"inline",style:{color:0===p.length?"#ffffff":p[E%p.length]},children:j}),m&&(0,s.jsx)("span",{ref:M,className:"ml-1 inline-block opacity-100 ".concat(T?"hidden":""," ").concat(f),children:x}))},I=a(6550),z=a(8614),M=a(5395),R=a(7168),Z=a(2926);function _(e){let{onRetry:t,isVisible:a}=e,{t:r}=(0,j.$G)(),[n,i]=(0,o.useState)(!1);(0,o.useEffect)(()=>{if(a){let e=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=e}}},[a]);let l=async()=>{i(!0),await new Promise(e=>setTimeout(e,1e3)),t(),i(!1)};return(0,s.jsx)(z.M,{children:a&&(0,s.jsx)(N.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-[#21466D] overflow-hidden",children:(0,s.jsxs)("div",{className:"relative z-10 text-center space-y-12 px-4",children:[(0,s.jsx)(N.E.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.5},className:"flex justify-center",children:(0,s.jsxs)(N.E.div,{animate:{scale:[1,1.1,1],rotate:[0,-10,10,-10,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"relative w-36 h-36 flex items-center justify-center rounded-full border-4 border-[#ffc82a]/40 bg-[#21466D]",children:[(0,s.jsx)(M.Z,{className:"w-16 h-16 text-[#ffc82a]"}),(0,s.jsx)(N.E.div,{className:"absolute inset-0 rounded-full bg-[#ffc82a]/10",animate:{scale:[1,1.5,1],opacity:[.3,0,.3]},transition:{duration:2,repeat:1/0}})]})}),(0,s.jsxs)(N.E.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3,duration:.6},className:"space-y-4",children:[(0,s.jsx)("h1",{className:"text-4xl md:text-5xl font-bold text-white",children:r("common.noInternet")||"Internetga ulanmagan"}),(0,s.jsx)("p",{className:"text-lg md:text-xl text-white/80 max-w-md mx-auto",children:r("common.checkConnection")||"Internet aloqangizni tekshiring va qayta urinib ko'ring"})]}),(0,s.jsx)(N.E.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6,duration:.6},children:(0,s.jsx)(c.z,{onClick:l,disabled:n,className:"bg-[#ffc82a] hover:bg-[#ffc82a]/90 text-[#21466D] px-8 py-3 text-lg font-semibold rounded-xl transition-all duration-300 transform hover:scale-105",children:n?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(R.Z,{className:"w-5 h-5 mr-2 animate-spin"}),r("common.retrying")||"Qayta urinilmoqda..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Z.Z,{className:"w-5 h-5 mr-2"}),r("common.retry")||"Qayta urinish"]})})}),(0,s.jsxs)(N.E.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.9,duration:.6},className:"text-sm text-white/70 space-y-2",children:[(0,s.jsx)("p",{children:r("common.connectionTips")||"Maslahatlar:"}),(0,s.jsxs)("ul",{className:"space-y-1 text-xs",children:[(0,s.jsxs)("li",{children:["• ",r("common.wifi")]}),(0,s.jsxs)("li",{children:["• ",r("common.router")]}),(0,s.jsxs)("li",{children:["• ",r("common.sayt")]})]})]})]})})})}let T=null,O=null,P=()=>(0,s.jsxs)(i.Zb,{className:"border border-[#21466D]/10 rounded-xl h-full flex flex-col justify-between animate-pulse",children:[(0,s.jsxs)(i.aY,{className:"p-4 flex-grow flex flex-col max-md:p-2",children:[(0,s.jsx)("div",{className:"relative mb-4 overflow-hidden rounded-lg",children:(0,s.jsx)("div",{className:"w-full h-[350px] bg-gray-200 max-md:h-[250px] rounded-lg"})}),(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"}),(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-4 w-3/4"}),(0,s.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,s.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/2"}),(0,s.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/3"}),(0,s.jsx)("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]})]}),(0,s.jsx)(i.eW,{className:"p-4 pt-0 max-md:p-2",children:(0,s.jsx)("div",{className:"w-full h-10 bg-gray-200 rounded"})})]}),Y=e=>{let{onComplete:t}=e;return(0,o.useEffect)(()=>{let e=document.body.style.overflow;document.body.style.overflow="hidden";let a=setTimeout(()=>{t()},5e3);return()=>{clearTimeout(a),document.body.style.overflow=e}},[t]),(0,s.jsxs)("div",{className:"jsx-bbb68f6baf361668 fixed inset-0 z-50 flex items-center justify-center bg-gradient-to-br from-[#21466D] via-[#2a5a8a] to-[#1a3a5c] overflow-hidden",children:[(0,s.jsx)("div",{className:"jsx-bbb68f6baf361668 absolute top-[37%] left-1/2 -translate-x-1/2 z-50",children:(0,s.jsx)("div",{className:"jsx-bbb68f6baf361668 w-48 h-48 bg-white/10 rounded-full flex items-center justify-center backdrop-blur-sm",children:(0,s.jsx)("img",{src:"/logo 6.png",alt:"logo",style:{transform:"translateZ(0)",willChange:"transform"},className:"jsx-bbb68f6baf361668 pointer-events-none select-none"})})}),(0,s.jsx)("div",{className:"jsx-bbb68f6baf361668 text-center space-y-8 pt-72",children:(0,s.jsxs)("div",{className:"jsx-bbb68f6baf361668 space-y-4",children:[(0,s.jsx)(A,{text:(0,I.t)("common.usat"),className:"text-4xl md:text-6xl font-bold text-white text-center",typingSpeed:80,pauseDuration:1e3,deletingSpeed:50,loop:!0,showCursor:!0,cursorCharacter:"|",cursorClassName:"text-white animate-pulse",textColors:["#ffffff","#ffc82a","#87ceeb"],variableSpeed:{min:60,max:120}}),(0,s.jsx)("div",{className:"jsx-bbb68f6baf361668 mt-8",children:(0,s.jsx)(A,{text:(0,I.t)("common.usat2"),className:"text-lg md:text-xl text-white/80 text-center",typingSpeed:60,initialDelay:2e3,showCursor:!1,loop:!1})})]})}),(0,s.jsx)(n(),{id:"bbb68f6baf361668",children:"@-webkit-keyframes progressBar{from{width:0%}to{width:100%}}@-moz-keyframes progressBar{from{width:0%}to{width:100%}}@-o-keyframes progressBar{from{width:0%}to{width:100%}}@keyframes progressBar{from{width:0%}to{width:100%}}"})]})};function V(){let{t:e,i18n:t}=(0,j.$G)(),a=(0,f.useRouter)(),[r,n]=(0,o.useState)([]),[b,w]=(0,o.useState)([]),[y,v]=(0,o.useState)(20),[N,B]=(0,o.useState)(!1),[D,C]=(0,o.useState)(!1),[A,I]=(0,o.useState)(1),[z,M]=(0,o.useState)(!0),[R,Z]=(0,o.useState)(!1),[V,q]=(0,o.useState)(!1),[W,L]=(0,o.useState)(!1);(0,o.useEffect)(()=>{sessionStorage.getItem("hasSeenWelcome")||Z(!0)},[]);let F=async()=>{try{L(!1),q(!1),await G()}catch(a){var e,t;console.error("Network error:",a),("NETWORK_ERROR"===a.code||(null===(e=a.message)||void 0===e?void 0:e.includes("Network Error"))||(null===(t=a.message)||void 0===t?void 0:t.includes("fetch"))||!navigator.onLine)&&(L(!0),q(!0)),M(!1)}},G=async()=>{if(T)n(T),M(!1);else{M(!0);try{let e=((await (0,p.bI)()).data||[]).map(e=>({id:e.Book.id,name:e.Book.name,author_id:e.Book.author_id,year:e.Book.year,page:e.Book.page,books:e.Book.books,book_count:e.Book.book_count,description:e.Book.description,image_id:e.Book.image_id,createdAt:e.Book.createdAt,updatedAt:e.Book.updatedAt,auther_id:e.Book.auther_id,Auther:e.Book.Auther,image:e.Book.image,bookItem:e}));n(e),T=e}catch(e){throw e}finally{M(!1)}}if(O)w(O);else try{let e=await (0,p.yZ)(),t=Array.isArray(e.data)?e.data:[e.data];w(t),O=t}catch(e){console.error("Swiper kitoblarini olishda xatolik:",e),w([])}};(0,o.useEffect)(()=>{F()},[]),(0,o.useEffect)(()=>{B(!0)},[]),(0,o.useEffect)(()=>{document.documentElement.style.scrollBehavior="smooth"},[]);let H=e=>{a.push("/book/".concat(e))},$=t=>{localStorage.getItem("token")?t():(h.A.warning(e("common.loginRequired")),a.push("/login"))},J=t=>{if(!t)return;let a=localStorage.getItem("id");if(!a){h.A.warning("User ID topilmadi. Iltimos qayta login qiling.");return}let s=JSON.parse(localStorage.getItem("cart")||"[]");s.find(e=>e.id===t.id&&e.userId===a)?h.A.warning(e("common.bookAlreadyInCart",{bookName:t.name})):(s.push({...t,userId:a}),localStorage.setItem("cart",JSON.stringify(s)),h.A.success(e("common.bookAddedToCart",{bookName:t.name})),window.dispatchEvent(new Event("storage")))},K=(0,o.useMemo)(()=>Array.from({length:1}).flatMap(()=>r),[r]),Q=Math.ceil(K.length/4),U=(0,o.useMemo)(()=>{let e=(A-1)*4;return K.slice(e,e+4)},[K,A]);return N?V?(0,s.jsx)(_,{onRetry:()=>{M(!0),F()},isVisible:V}):R?(0,s.jsx)(Y,{onComplete:()=>{Z(!1),sessionStorage.setItem("hasSeenWelcome","true")}}):(0,s.jsxs)("div",{className:"min-h-screen bg-background mt-10",children:[0===r.length?(0,s.jsx)("div",{className:"w-full flex justify-center items-center h-[50vh]",children:(0,s.jsx)("h1",{className:"text-[30px] font-extrabold text-[#21466D]",children:"Kitoblar hali mavjud emas"})}):(0,s.jsxs)("div",{children:[(0,s.jsx)(S,{initialBooks:b}),(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsx)("div",{className:"w-full px-10 py-8 text-start",children:!z&&(0,s.jsx)("h1",{className:"text-[38px] font-[700] text-[#21466D]",children:e("common.allBooks")})}),(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-8 max-md:gap-4",children:z?Array.from({length:4}).map((e,t)=>(0,s.jsx)(P,{},t)):U.map((t,a)=>{var r,n;let o=(null===(r=t.image)||void 0===r?void 0:r.url)?(0,g.hA)(t.image.url):"/placeholder.svg",m=(0,g.xc)(t.bookItem.Status.id);return(0,s.jsxs)(i.Zb,{onClick:()=>$(()=>H(t.id)),className:"group hover:shadow-xl transition-all duration-200 border border-[#21466D]/10 rounded-xl cursor-pointer hover:border-[#21466D]/20 h-full flex flex-col justify-between",children:[(0,s.jsxs)(i.aY,{className:"p-4 flex-grow flex flex-col max-md:p-2",children:[(0,s.jsxs)("div",{className:"relative mb-4 overflow-hidden rounded-lg",children:[(0,s.jsx)(x.default,{src:o,alt:t.name,width:150,height:250,className:"w-full h-[350px] object-cover max-md:h-[250px]"}),m&&(0,s.jsx)(l.C,{className:"absolute top-2 right-2 bg-[#ffc82a] text-[#21466D] text-xs",children:e("common.new")})]}),(0,s.jsxs)("h3",{title:t.name,className:"font-semibold text-lg mb-2 group-hover:text-[#21466D] transition-colors line-clamp-2 min-h-[3.5rem]",children:[t.name.split(/[:\s]+/).slice(0,3).join(" "),t.name.split(/[:\s]+/).length>3?"...":""]}),(0,s.jsxs)("div",{className:"space-y-1 text-sm text-muted-foreground mb-4",children:[(0,s.jsxs)("p",{children:[t.page," ",e("common.page")]}),(0,s.jsxs)("p",{children:[t.year,"-",e("common.year")]}),(0,s.jsxs)("p",{className:"text-xs text-[#21466D]",children:[e("common.author"),": ",(null===(n=t.Auther)||void 0===n?void 0:n.name)||e("common.unknown")]})]})]}),(0,s.jsx)(i.eW,{className:"p-4 pt-0 flex flex-col gap-2 max-md:gap-1 max-md:p-2",children:(0,s.jsx)(k.Z,{className:"w-full",children:(0,s.jsxs)(c.z,{className:"w-full bg-[#21466D] hover:bg-[#21466D]/90 text-white flex items-center justify-center gap-2",onClick:e=>{e.stopPropagation(),$(()=>J(t))},children:[(0,s.jsx)(d.Z,{className:"h-4 w-4 mr-2"})," ",e("common.addBookToCart")]})})})]},t.id)})}),!z&&Q>1&&(0,s.jsx)("div",{className:"flex justify-center mt-6",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(k.Z,{children:(0,s.jsx)(c.z,{onClick:()=>I(e=>Math.max(1,e-1)),disabled:1===A,variant:"outline",className:"text-[#21466D] border-[#21466D]/40 hover:bg-[#21466D]/10",children:(0,s.jsx)(m.Z,{className:"h-4 w-4"})})}),((e,t)=>{let a=[];if(t<=5)for(let e=1;e<=t;e++)a.push(e);else{let s=Math.max(1,e-Math.floor(2.5)),r=Math.min(t,s+5-1);r-s+1<5&&(1===s?r=Math.min(t,s+5-1):r===t&&(s=Math.max(1,t-5+1))),s>1&&(a.push(1),s>2&&a.push("..."));for(let e=s;e<=r;e++)a.push(e);r<t&&(r<t-1&&a.push("..."),a.push(t))}return a})(A,Q).map((e,t)=>(0,s.jsx)(o.Fragment,{children:"..."===e?(0,s.jsx)("span",{className:"px-4 py-2 text-sm text-gray-500",children:"..."}):(0,s.jsx)(k.Z,{children:(0,s.jsx)(c.z,{onClick:()=>I(e),variant:A===e?"default":"outline",className:A===e?"bg-[#21466D] text-white hover:bg-[#21466D]/90":"text-[#21466D] border-[#21466D]/40 hover:bg-[#21466D]/10",children:e})})},t)),(0,s.jsx)(k.Z,{children:(0,s.jsx)(c.z,{onClick:()=>I(e=>Math.min(Q,e+1)),disabled:A===Q,variant:"outline",className:"text-[#21466D] border-[#21466D]/40 hover:bg-[#21466D]/10",children:(0,s.jsx)(u.Z,{className:"h-4 w-4"})})})]})})]})]}),(0,s.jsx)(E.default,{})]}):null}},1595:function(e,t,a){"use strict";var s=a(7437),r=a(2265);t.Z=e=>{let{children:t,className:a=""}=e,n=(0,r.useRef)(null),[o,i]=(0,r.useState)({x:0,y:0});return(0,r.useEffect)(()=>{let e=e=>{if(!n.current)return;let{left:t,top:a,width:s,height:r}=n.current.getBoundingClientRect(),o=t+s/5,l=a+r/5,c=Math.abs(o-e.clientX),d=Math.abs(l-e.clientY);c<s/2+25&&d<r/2+25?i({x:(e.clientX-o)/12,y:(e.clientY-l)/12}):i({x:0,y:0})};return window.addEventListener("mousemove",e),()=>window.removeEventListener("mousemove",e)},[]),(0,s.jsx)("div",{ref:n,style:{display:"inline-block",transform:"translate3d(".concat(o.x,"px, ").concat(o.y,"px, 0)"),transition:"transform 0.2s ease-out",willChange:"transform"},className:a,children:t})}},7436:function(e,t,a){"use strict";a.d(t,{default:function(){return l}});var s=a(7437),r=a(265),n=a(8614),o=a(8239),i=a(2265);function l(){let[e,t]=(0,i.useState)(!1),[a,l]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{let e=()=>{let e=document.getElementById("header"),a=document.querySelector("footer"),s=window.scrollY+window.innerHeight;if(e){let a=e.getBoundingClientRect().bottom+window.scrollY;t(window.scrollY>a)}else t(window.scrollY>100);a&&l(s>a.getBoundingClientRect().top+window.scrollY-50)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,s.jsx)(n.M,{children:e&&(0,s.jsx)(o.E.div,{initial:{opacity:0,y:50,scale:.8},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:50,scale:.8},transition:{type:"spring",stiffness:200,damping:20,duration:.5,ease:"easeInOut"},whileHover:{scale:1.1,y:-5,boxShadow:"0 10px 20px rgba(0, 0, 0, 0.2)"},whileTap:{scale:.95},style:a?{backgroundColor:"#ffc82a",color:"#21466d"}:{backgroundColor:"#21466d",color:"#ffffff"},className:"fixed bottom-12 max-md:bottom-20 right-12 max-lg:right-4 max-lg:bottom-5 z-[99] rounded-full h-16 w-16 max-md:h-12 max-md:w-12 flex items-center justify-center shadow-lg cursor-pointer transition-colors duration-300",children:(0,s.jsx)("button",{onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},className:"w-full h-full flex items-center justify-center","aria-label":"Scroll to top",children:(0,s.jsx)(r.Z,{size:32})})},"scroll-to-top")})}},5974:function(e,t,a){"use strict";a.d(t,{C:function(){return i}});var s=a(7437);a(2265);var r=a(535),n=a(4508);let o=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:a,...r}=e;return(0,s.jsx)("div",{className:(0,n.cn)(o({variant:a}),t),...r})}},2869:function(e,t,a){"use strict";a.d(t,{d:function(){return l},z:function(){return c}});var s=a(7437),r=a(2265),n=a(7053),o=a(535),i=a(4508);let l=(0,o.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef((e,t)=>{let{className:a,variant:r,size:o,asChild:c=!1,...d}=e,m=c?n.g7:"button";return(0,s.jsx)(m,{className:(0,i.cn)(l({variant:r,size:o,className:a})),ref:t,...d})});c.displayName="Button"},6070:function(e,t,a){"use strict";a.d(t,{Ol:function(){return i},Zb:function(){return o},aY:function(){return c},eW:function(){return d},ll:function(){return l}});var s=a(7437),r=a(2265),n=a(4508);let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});o.displayName="Card";let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",a),...r})});i.displayName="CardHeader";let l=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",a),...r})});l.displayName="CardTitle",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a),...r})}).displayName="CardDescription";let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",a),...r})});c.displayName="CardContent";let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",a),...r})});d.displayName="CardFooter"},9116:function(e,t,a){"use strict";a.d(t,{CP:function(){return n},bI:function(){return i},dR:function(){return m},nF:function(){return c},so:function(){return o},uI:function(){return d},x4:function(){return r},yZ:function(){return l}});let s=a(3464).Z.create({baseURL:"".concat("https://kutubxonaapi.usat.uz/api","/website"),headers:{"Content-Type":"application/json"}}),r=async(e,t)=>(await s.post("/login",{passport_id:e,password:t})).data,n=async()=>await s.get("/categories"),o=async()=>await s.get("/kafedras"),i=async()=>(await s.get("/book-items")).data,l=async()=>(await s.get("/book-items")).data,c=async()=>(await s.get("/books")).data,d=async()=>{let e=await s.get("/alluser-order");return console.log("orders",e),e.data},m=async e=>{let t=localStorage.getItem("id");return(await s.post("/user-order",{user_id:t,book_id:e})).data}},4546:function(e,t,a){"use strict";a.d(t,{a:function(){return r}});var s=a(2265);let r=e=>{let[t,a]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{let s=window.matchMedia(e);s.matches!==t&&a(s.matches);let r=()=>a(s.matches);return s.addEventListener("change",r),()=>s.removeEventListener("change",r)},[t,e]),t}},4508:function(e,t,a){"use strict";a.d(t,{cn:function(){return n},hA:function(){return o},xc:function(){return i}});var s=a(1994),r=a(3335);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.m6)((0,s.W)(t))}let o=e=>{let t="https://kutubxonaapi.usat.uz/api".replace("/api","")||"";return e?"".concat(t).concat(e):"/placeholder.svg"},i=e=>{let t=new Date(e),a=new Date;return a.setMonth(a.getMonth()-6),t>a}}},function(e){e.O(0,[957,922,487,145,239,308,518,971,117,744],function(){return e(e.s=7675)}),_N_E=e.O()}]);